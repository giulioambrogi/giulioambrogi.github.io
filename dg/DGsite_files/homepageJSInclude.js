
dojo.registerModulePath("wc","../wc");dojo.require("wc.service.common");dojo.require("dojo.io.iframe");dojo.require("dojo.io.script");dojo.require("dojo.parser");dojo.require("dijit.form.Button");dojo.require("wc.widget.WCMenu");dojo.require("wc.widget.WCDialog");dojo.require("dijit.layout.TabContainer");dojo.require("dijit.layout.ContentPane");dojo.require("dijit.Tooltip");dojo.require("wc.widget.WCDropDownButton");dojo.require("dijit.Dialog");dojo.require("dojo.currency");dojo.require("dijit.Tree");dojo.require("dojo.back");dojo.require("dijit.form.DateTextBox");dojo.require("wc.widget.RefreshArea");dojo.require("wc.render.RefreshController");dojo.require("wc.render.Context");dojo.require("dojo.cookie");dojo.require("dojo.topic");dojo.subscribe("ajaxRequestInitiated","incrementNumAjaxRequest");dojo.subscribe("ajaxRequestCompleted","decrementNumAjaxRequest");dojo.subscribe("ajaxRequestCompleted","initializeInactivityWarning");var showDropdown=false;var dropDownDlg=null;var productAddedDropDownDlg=null;var originalMiniCartWidth=0;var isIE=(document.all)?true:false;var correctBrowser=false;var requestSubmitted=true;var currentId="";var numAjaxRequests=0;var widgetsList=[];var tabPressed=false;var currentPopup='';var android=null;var ios=null;function initializeInactivityWarning(){if(storeUserType!="G"&&inactivityTimeout!=0){if(inactivityTimeoutTracker!=null){clearTimeout(inactivityTimeoutTracker);}
inactivityTimeoutTracker=setTimeout(showInactivityWarningDialog,inactivityTimeout-inactivityWarningDialogBuffer);}}
function showInactivityWarningDialog(){dijit.byId("inactivityWarningPopup").show();if(dialogTimeoutTracker!=null){clearTimeout(dialogTimeoutTracker);}
dialogTimeoutTracker=setTimeout(hideInactivityWarningDialog,inactivityWarningDialogDisplayTimer);}
function hideInactivityWarningDialog(){dijit.byId("inactivityWarningPopup").hide();}
function resetServerInactivity(){dojo.xhrPost({url:getAbsoluteURL()+"Ping",handleAs:"json-comment-filtered",content:null,service:this,load:function(serviceResponse,ioArgs){if(serviceResponse.success){initializeInactivityWarning();}else{console.error("Ping service failed");}},error:function(errObj,ioArgs){console.error("Ping service failed");}});}
function byId(r){return document.getElementById(r);}
function focusSetter(){if(dojo.byId("MiniCartFocusReceiver1"))
dojo.byId("MiniCartFocusReceiver1").focus();else
dojo.byId("MiniCartFocusReceiver2").focus();}
function determineFocus(event){if(event.shiftKey&&event.keyCode==dojo.keys.TAB)
{if(event.srcElement)
{if(event.srcElement.id=="MiniCartFocusReceiver1")
{if(dojo.byId("WC_MiniShopCartDisplay_link_5"))
{dojo.byId("WC_MiniShopCartDisplay_link_5").focus();}
dojo.stopEvent(event);}
else if(event.srcElement.id=="MiniCartFocusReceiver2")
{dojo.byId("MiniCartFocusReceiver2").focus();dojo.stopEvent(event);}}
else
{if(event.target.id=="MiniCartFocusReceiver1")
{if(dojo.byId("WC_MiniShopCartDisplay_link_5"))
{dojo.byId("WC_MiniShopCartDisplay_link_5").focus();}
dojo.stopEvent(event);}
else if(event.target.id=="MiniCartFocusReceiver2")
{dojo.byId("MiniCartFocusReceiver2").focus();dojo.stopEvent(event);}}}}
function destroyDialog(contentId){if(contentId==undefined){contentId='quick_cart_container';}
dojo.query('.dijitDialog',document).forEach(function(tag){if(dijit.byNode(tag).id==contentId)
dijit.byNode(tag).destroyRecursive();});if(contentId!=undefined&&contentId=='quick_cart_container'){dropDownDlg=null;}else{productAddedDropDownDlg=null;}}
function hideUnderlayWrapper(){dojo.query('.dijitDialogUnderlayWrapper',document).forEach(function(tag){tag.style.display='none';});}
function loadLink(url){document.location.href=url;}
function clearSearchField(){searchText=document.getElementById("SimpleSearchForm_SearchTerm").value;if(searchText==document.getElementById("searchTextHolder").innerHTML){document.getElementById("SimpleSearchForm_SearchTerm").value="";}
else{document.getElementById("SimpleSearchForm_SearchTerm").select();showAutoSuggestIfResults();autoSuggestHover=false;}}
function fillSearchField(){if(document.getElementById("SimpleSearchForm_SearchTerm").value==""){document.getElementById("SimpleSearchForm_SearchTerm").className="search_input gray_color";document.getElementById("SimpleSearchForm_SearchTerm").value=document.getElementById("searchTextHolder").innerHTML;}
if(!autoSuggestHover){showAutoSuggest(false);}}
function showDropDownMenu(){var showMenu=document.getElementById("header_menu_dropdown");if(document.getElementById("header_menu_dropdown")!=null&&document.getElementById("header_menu_dropdown")!='undefined'){showMenu.style.display="block";}
if(document.getElementById("outerCartContainer")!=null&&document.getElementById("outerCartContainer")!='undefined'){var outershopcart=document.getElementById("outerCartContainer");outershopcart.style.display="block";}}
function initShopcartTarget(){dojo.subscribe("/dnd/drop",function(source,nodes,copy,target){if(source!=target){target.deleteSelectedNodes();}
var actionListScroll=new popupActionProperties();actionListScroll.showProductCompare=showProductCompare;if(target.parent.id=='miniShopCart_dndTarget'){var indexOfIdentifier=source.parent.id.indexOf("_",0);if(indexOfIdentifier>=0){source.parent.id=source.parent.id.substring(indexOfIdentifier+1);}
if(source.node.getAttribute('dndType')=='item'||source.node.getAttribute('dndType')=='package'){categoryDisplayJS.AddItem2ShopCartAjax(source.parent.id,1);}else if(source.node.getAttribute('dndType')=='product'||source.node.getAttribute('dndType')=='bundle'){showPopup(source.parent.id,function(e){return e;},'miniShopCart_dndTarget',null,actionListScroll);}}});}
function cursor_wait(checkForOpera){var showPopup=true;if(checkForOpera==true){if(dojo.isOpera>0){showPopup=false;}}
if(showPopup){setTimeout('showProgressBar()',500);}}
function showProgressBar(){if(!requestSubmitted){return;}
displayProgressBar();}
function displayProgressBar(){var dialog=dijit.byId('progress_bar_dialog');if(dialog!=null){dialog.closeButtonNode.style.display='none';var progressBar=document.getElementById('progress_bar');progressBar.style.display='block';if(this.currentId!=""){var element=document.getElementById(this.currentId);var pos=dijit.placeOnScreenAroundElement(progressBar,element,{'TR':'TL'});}else{dialog.containerNode.innerHTML=="";progressBar.style.left='';progressBar.style.top='';dialog.containerNode.appendChild(progressBar);dialog.show();}
setTimeout("cursor_clear()",1800000);}}
function setCurrentId(id){if(!requestSubmitted&&this.currentId==""){this.currentId=id;}}
function trim(inword)
{word=inword.toString();var i=0;var j=word.length-1;while(word.charAt(i)==" ")i++;while(word.charAt(j)==" ")j=j-1;if(i>j){return word.substring(i,i);}else{return word.substring(i,j+1);}}
function cursor_clear(){requestSubmitted=false;var dialog=dijit.byId('progress_bar_dialog');var progressBar=document.getElementById('progress_bar');if(dialog!=null){if(progressBar!=null){progressBar.style.display='none';}
dialog.hide();this.currentId="";}}
function submitRequest(){if(!requestSubmitted){requestSubmitted=true;return true;}
return false;}
function resetRequest(){requestSubmitted=false;}
function setPageLocation(newPageLink){if(!submitRequest()){return;}
document.location.href=newPageLink;}
function submitSpecifiedForm(form){if(!submitRequest()){return;}
console.debug("form.action == "+form.action);form.submit();}
function parseWidget(id)
{}
function parseAllWidgets(){for(var i=0;i<widgetsList.length;i++){parseWidget(widgetsList[i]);}}
function addToWidgetsList(widgetId){widgetsList.push(widgetId);}
function parseWCCEAWidget(id)
{var node;var widget=ceadijit.byId(id);if(widget==null||widget==undefined)
{if(id==null||id==undefined)
{node=ceadojo.body();}
else
{node=ceadojo.byId(id);}
if(node!=null&&node!=undefined)
{if(node.getAttribute("ceadojoType")!=null&&node.getAttribute("ceadojoType")!=undefined)
{ceadojo.parser.instantiate([node]);}
else
{ceadojo.parser.parse(node);}}}}
function parseHeader(id)
{var node=dojo.byId("progress_bar_dialog");var showMenu=document.getElementById("header_menu_loaded");var hideMenu=document.getElementById("header_menu_overlay");if(currentId.length==0&&document.getElementById("header_menu_loaded")!=null&&document.getElementById("header_menu_loaded")!='undefined'&&document.getElementById("header_menu_overlay")!=null&&document.getElementById("header_menu_overlay")!='undefined'&&document.getElementById("header_menu_loaded").style.display=='none')
{setCurrentId((id!=null&&id!=undefined)?id:hideMenu.id);submitRequest();cursor_wait();hideMenu.style.display="none";parseWidget("header_menu_loaded");showMenu.style.display="block";cursor_clear();try{if(window.top._ceaCollabDialog!=undefined||window.top._ceaCollabDialog!=null){dijit.registry.byClass("wc.widget.WCDropDownButton").forEach(function(w){dojo.connect(w,'_onDropDownClick',dojo.hitch(window.top._ceaCollabDialog,"topCategoryClicked",w.getURL()));dojo.connect(w,'onKeyPress',window.top._ceaCollabDialog,function(e){if(e.keyCode==dojo.keys.ENTER){window.top._ceaCollabDialog.topCategoryClicked(w.getURL());}});});}}catch(err){console.log(err);}}}
function hideElementById(elementId){var div=dojo.byId(elementId);div.style.display="none";}
function showElementById(elementId){var div=dojo.byId(elementId);div.style.display="block";}
function hideBackgroundImage(element){element.style.backgroundImage='none';}
function showBackgroundImage(element){element.style.backgroundImage='url('+getImageDirectoryPath()+getStyleDirectoryPath()+'product_hover_background.png)';}
function checkIE8Browser(){if(dojo.isIE&&dojo.isIE<=8){correctBrowser=true}}
function ApprovalToolLink(idTag,approvalToolLinkURL){checkIE8Browser();if(correctBrowser){RFQwindow=window.open(approvalToolLinkURL);}
else{MessageHelper.formErrorHandleClient(idTag,MessageHelper.messages["ERROR_INCORRECT_BROWSER"]);return;}}
function updateViewAndBeginIndexForCurrencyChange(){if(document.getElementById('fastFinderResultControls')!=null&&document.getElementById('fastFinderResultControls')!='')
{if(document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=document.FastFinderForm.pageView.value;}
if(document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=document.FastFinderForm.beginIndex.value;}}
else if(document.getElementById('CategoryDisplay_Widget')!=null&&document.getElementById('CategoryDisplay_Widget')!='')
{if(wc.render.getContextById('CategoryDisplay_Context').properties['pageView']!=''&&document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById('CategoryDisplay_Context').properties['pageView'];}
if(wc.render.getContextById('CategoryDisplay_Context').properties['beginIndex']!=''&&document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById('CategoryDisplay_Context').properties['beginIndex'];}}
else if(document.getElementById('Search_Result_Summary')!=null&&document.getElementById('Search_Result_Summary')!='')
{if(wc.render.getContextById('catalogSearchResultDisplay_Context').properties['searchResultsView']!=''&&document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById('catalogSearchResultDisplay_Context').properties['searchResultsView'];}
if(wc.render.getContextById('catalogSearchResultDisplay_Context').properties['searchResultsPageNum']!=''&&document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById('catalogSearchResultDisplay_Context').properties['searchResultsPageNum']}}
else if(document.getElementById('Search_Result_Summary2')!=null&&document.getElementById('Search_Result_Summary2')!='')
{if(wc.render.getContextById('contentSearchResultDisplay_Context').properties['searchResultsView']!=''&&document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById('contentSearchResultDisplay_Context').properties['searchResultsView'];}
if(wc.render.getContextById('contentSearchResultDisplay_Context').properties['searchResultsPageNum']!=''&&document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById('contentSearchResultDisplay_Context').properties['searchResultsPageNum']}}
try{if(window.top._ceaCollabDialog!=undefined||window.top._ceaCollabDialog!=null){dojo.byId('SetCurrencyPreferenceForm').URL.value=dojo.byId('SetCurrencyPreferenceForm').URL.value+"&coshopChangeCurrency="+
dojo.byId('currencySelection').options[dojo.byId('currencySelection').selectedIndex].value;}}catch(err){console.log(err);}}
function updateViewAndBeginIndexForLanguageChange(){if(document.getElementById('fastFinderResultControls')!=null&&document.getElementById('fastFinderResultControls')!='')
{if(document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=document.FastFinderForm.pageView.value;}
if(document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=document.FastFinderForm.beginIndex.value;}}
else if(document.getElementById('CategoryDisplay_Widget')!=null&&document.getElementById('CategoryDisplay_Widget')!='')
{if(wc.render.getContextById('CategoryDisplay_Context').properties['pageView']!=''&&document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=wc.render.getContextById('CategoryDisplay_Context').properties['pageView'];}
if(wc.render.getContextById('CategoryDisplay_Context').properties['beginIndex']!=''&&document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById('CategoryDisplay_Context').properties['beginIndex'];}}
else if(document.getElementById('Search_Result_Summary')!=null&&document.getElementById('Search_Result_Summary')!='')
{if(wc.render.getContextById('catalogSearchResultDisplay_Context').properties['searchResultsView']!=''&&document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=wc.render.getContextById('catalogSearchResultDisplay_Context').properties['searchResultsView'];}
if(wc.render.getContextById('catalogSearchResultDisplay_Context').properties['searchResultsPageNum']!=''&&document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById('catalogSearchResultDisplay_Context').properties['searchResultsPageNum'];}}
else if(document.getElementById('Search_Result_Summary2')!=null&&document.getElementById('Search_Result_Summary2')!='')
{if(wc.render.getContextById('contentSearchResultDisplay_Context').properties['searchResultsView']!=''&&document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=wc.render.getContextById('contentSearchResultDisplay_Context').properties['searchResultsView'];}
if(wc.render.getContextById('contentSearchResultDisplay_Context').properties['searchResultsPageNum']!=''&&document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById('contentSearchResultDisplay_Context').properties['searchResultsPageNum'];}}
try{if(window.top._ceaCollabDialog!=undefined||window.top._ceaCollabDialog!=null){dojo.byId('LanguageSelectionForm').action=dojo.byId('LanguageSelectionForm').action+"&langId="+
dojo.byId('languageSelection').options[dojo.byId('languageSelection').selectedIndex].value;}}catch(err){console.log(err);}}
function showHeaderLinksInTwoLines(){if(document.getElementById("header_links")!=null&&document.getElementById("header_links")!='undefined'){if(dojo.contentBox(document.getElementById("header_links")).w>750){if(document.getElementById("header_links1")!=null&&document.getElementById("header_links1")!='undefined'){document.getElementById("header_links1").style.display="block";}
if(document.getElementById("headerHomeLink")!=null&&document.getElementById("headerHomeLink")!='undefined'){document.getElementById("headerHomeLink").style.display="none";}
if(document.getElementById("headerShopCartLink")!=null&&document.getElementById("headerShopCartLink")!='undefined'){document.getElementById("headerShopCartLink").style.display="none";}}
document.getElementById("header_links").style.visibility="visible";}}
function showLinksInOneLine(){if(document.getElementById("header_links")!=null&&document.getElementById("header_links")!='undefined'){document.getElementById("header_links").style.visibility="visible";}}
function isNonNegativeInteger(value){var regExpTester=new RegExp(/^\d*$/);return(value!=null&&value!=""&&regExpTester.test(value));}
function isPositiveInteger(value){return(isNonNegativeInteger(value)&&value!=0);}
function closeAllDialogs(){dijit.registry.byClass("dijit.Dialog").forEach(function(w){w.hide()});}
function setWarningMessageCookie(errorKey){dojo.cookie("signon_warning_cookie",errorKey,{path:"/"});}
function removeCookie(name){dojo.cookie(name,null,{expires:-1});}
function getCookie(c){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var index=cookies[i].indexOf("=");var name=cookies[i].substr(0,index);name=name.replace(/^\s+|\s+$/g,"");if(name==c){return unescape(cookies[i].substr(index+1));}}}
function isStorePreview(contextPathUsed,criteria){if(contextPathUsed.indexOf(criteria)>-1){return true;}
return false;}
function hideESpotInfoPopup(id,event){if(event!=null&&event.type=="keypress"&&event.keyCode!="27"){return;}
else{var quickInfo=dijit.byId(id);if(quickInfo!=null){quickInfo.hide();}}}
function showESpotInfoPopup(id,event){if(event!=null&&event.type=="keypress"&&event.keyCode!="13"){return;}
else{if(!parent.checkPopupAllowed()){return;}
var quickInfo=dijit.byId(id);if(quickInfo!=null){quickInfo.show();}}}
function incrementNumAjaxRequest(){if(numAjaxRequests!='undefined'){numAjaxRequests++;}}
function decrementNumAjaxRequest(){if(numAjaxRequests!='undefined'){if(numAjaxRequests!=0){numAjaxRequests--;}}}
function updateParamObject(params,key,value,toArray,index){if(params==null){params=[];}
if(params[key]!=null&&toArray){if(dojo.lang.isArrayLike(params[key])){if(index!=null&&index!=""){params[key][index]=value;}else{params[key].push(value);}}else{var tmpValue=params[key];params[key]=[];params[key].push(tmpValue);params[key].push(value);}}else{if(index!=null&&index!=""&&index!=-1){params[key+"_"+index]=value;}else if(index==-1){var i=1;while(params[key+"_"+i]!=null){i++;}
params[key+"_"+i]=value;}else{params[key]=value;}}
return params;}
function showSection(id){var section=dojo.byId(id);if(section!=null&&section!='undefined'){section.style.visibility="visible";}}
function hideSection(id){var section=dojo.byId(id);if(section!=null&&section!='undefined'){section.style.visibility="";}}
function shiftTabHideSection(id,event){if(event.shiftKey&&(event.keyCode==dojo.keys.TAB)){hideSection(id);}}
function tabHideSection(id,event,nextId){if(!event.shiftKey&&(event.keyCode==dojo.keys.TAB)){if(null!=nextId){dojo.byId(nextId).focus();}
hideSection(id);dojo.stopEvent(event);}}
function saveShiftTabPress(event){if(event.shiftKey==true&&event.keyCode==9){tabPressed=true;}}
function saveTabPress(event){if(event.shiftKey==false&&event.keyCode==9){tabPressed=true;}}
function setFocus(formElementId){if(tabPressed){tabPressed=false;document.getElementById(formElementId).focus();}}
function increaseHeight(containerId,increase){var temp=document.getElementById(containerId).offsetHeight;document.getElementById(containerId).style.height=(temp+increase)+'px';}
function redirectToSignOn(forcedUrl){if(typeof(forcedUrl)!='undefined'){var currentURL=forcedUrl;}else{var currentURL=location.href;}
currentURL="OrderItemMove?continue=1&createIfEmpty=1&updatePrices=0&deleteIfEmpty=*&fromOrderId=*&toOrderId=.&page=&calculationUsageId=-1&URL="+encodeURIComponent("OrderCalculate?URL="+encodeURIComponent(currentURL));document.location.href="LogonForm?myAcctMain=1&storeId="
+WCParamJS.storeId+"&catalogId="+WCParamJS.catalogId
+"&langId="+WCParamJS.langId+"&URL="+encodeURIComponent(currentURL);}
function handlePopup(link,newPopup){if(currentPopup==newPopup){document.location.href=link;}else{currentPopup=newPopup;}}
function isAndroid(){if(android==null){if(navigator!=null){if(navigator.userAgent!=null){var ua=navigator.userAgent.toLowerCase();android=ua.indexOf("android")>-1;}}}
return android;}
function isIOS(){if(ios==null){if(navigator!=null){if(navigator.userAgent!=null){var ua=navigator.userAgent.toLowerCase();ios=(ua.indexOf("ipad")>-1)||(ua.indexOf("iphone")>-1)||(ua.indexOf("ipod")>-1);}}}
return ios;}
function outlineSpots(){dojo.addClass(document.body,'editMode');dojo.query('.carousel > .content').style({zIndex:'auto'});dojo.query(".ESpotInfo").style({display:"block"});dojo.query(".searchScore").style({display:"block"});dojo.query(".editManagedContent").style({display:"block"});var all=dojo.query(".genericESpot,.product,.searchResultSpot,.productDetail,.categorySpot");for(var i=0;i<all.length;i++){var currEl=all[i];if(dojo.hasClass(currEl,"emptyESpot")){var elementWidth=dojo.query('.ESpotInfo',currEl)[0].offsetWidth+4;var elementHeight=dojo.query('.ESpotInfo',currEl)[0].offsetHeight+4;dojo.attr(currEl,'_width',dojo.style(currEl,'width'));dojo.attr(currEl,'_height',dojo.style(currEl,'height'));dojo.style(currEl,{'width':+elementWidth+'px','height':elementHeight+'px'});}
if(dojo.query(".borderCaption",currEl).length==0){dojo.place("<div class='borderCaption'></div>",currEl,'first');}else{dojo.query(".borderCaption",currEl).style({'display':'block'});}
if(currEl.addEventListener){currEl.addEventListener('mouseover',function(evt){if(!window.parent.frames[0].isSpotsShown()){return;}
dojo.query(".caption").style({display:"none"});dojo.style(dojo.query(".caption",this)[0],{display:"block"});evt.stopPropagation();},false);currEl.addEventListener('mouseout',function(evt){if(!window.parent.frames[0].isSpotsShown()){return;}
dojo.query(".caption",this).style({display:"none"});evt.stopPropagation();},false);}else if(currEl.attachEvent){currEl.onmouseover=((function(currEl){return(function(){if(!window.parent.frames[0].isSpotsShown()){return;}
dojo.query(".caption").style({display:"none"});dojo.style(dojo.query(".caption",currEl)[0],{display:"block"});window.event.cancelBubble=true;});})(currEl));currEl.onmouseleave=((function(currEl){return(function(){if(!window.parent.frames[0].isSpotsShown()){return;}
dojo.query(".caption",currEl).style({display:"none"});window.event.cancelBubble=true;});})(currEl));}}}
function hideSpots(){dojo.removeClass(document.body,'editMode');dojo.query('.carousel > .content').style({zIndex:''});dojo.query(".ESpotInfo").style({display:"none"});dojo.query(".caption").style({display:"none"});dojo.query(".searchScore").style({display:"none"});dojo.query(".editManagedContent").style({display:"none"});dojo.query(".borderCaption").style({display:"none"});dojo.query(".emptyESpot").forEach(function(e){dojo.style(e,{'width':dojo.attr(e,'_width')+'px'});dojo.style(e,{'height':dojo.attr(e,'_height')+'px'});});}
function logout(url){setDeleteCartCookie();document.location.href=url;}
dojo.require("wc.render.common");CommonContextsJS={langId:"-1",storeId:"",catalogId:"",setCommonParameters:function(langId,storeId,catalogId){this.langId=langId;this.storeId=storeId;this.catalogId=catalogId;},setContextProperty:function(contextId,property,value){wc.render.getContextById(contextId).properties[property]=value;}}
wc.render.declareContext("multipleShipmentDetailsContext",{shipmentDetailsArea:"update"},""),wc.render.declareContext("singleShipmentShipChargeContext",null,""),wc.render.declareContext("multipleShipmentShipChargeContext",null,""),wc.render.declareContext("traditionalShipmentDetailsContext",{shipmentDetailsArea:"update"},""),wc.render.declareContext("currentOrder_Context",null,""),wc.render.declareContext("editShippingAddressContext",{shippingAddress:"0",addressType:"ShippingAndBilling"},"","Main"),wc.render.declareContext("billingAddressDropDownBoxContext",{billingAddress1:"0",billingAddress2:"0",billingAddress3:"0",billingURL1:"",billingURL2:"",billingURL3:"",areaNumber:'0',payment1:"",payment2:"",payment3:"",paymentTCId1:"",paymentTCId2:"",paymentTCId3:""},""),wc.render.declareContext("contextForMainAndAddressDiv",{showArea:"0",hideArea:"0"},""),wc.render.declareContext("shippingAddressDropDownBoxContext",null,""),wc.render.declareContext("CategoryDisplay_Context",{pageView:"",beginIndex:""},""),wc.render.declareContext("SubCategoryDisplay_Context",null,""),wc.render.declareContext("ShopCartPaginationDisplay_Context",{},""),wc.render.declareContext("PendingOrderPaginationDisplay_Context",{},""),wc.render.declareContext("PendingOrderDisplay_Context",{beginIndex:"0"},""),wc.render.declareContext("OrderItemPaginationDisplay_Context",{beginIndex:"0"},""),wc.render.declareContext("OrderDetailPaginationDisplay_Context",{beginIndex:"0"},""),wc.render.declareContext("MSOrderItemPaginationDisplay_Context",{beginIndex:"0"},""),wc.render.declareContext("CouponDisplay_Context",null,""),wc.render.declareContext("PromotionFreeGifts_Context",null,""),wc.render.declareContext("ListOrdersDisplay_Context",{startNumber:"0"},""),wc.render.declareContext("ScheduledOrdersStatusDisplay_Context",{beginIndex:"0",selectedTab:"Scheduled"},""),wc.render.declareContext("ProcessedOrdersStatusDisplay_Context",{beginIndex:"0",selectedTab:"PreviouslyProcessed"},""),wc.render.declareContext("WaitingForApprovalOrdersStatusDisplay_Context",{beginIndex:"0",selectedTab:"WaitingForApproval"},""),wc.render.declareContext("BrowsingHistoryContext",{status:"init"},""),wc.render.declareContext("BrowsingHistoryDisplay_Context",{currentPage:"0",pageView:""},""),wc.render.declareContext("CategorySubscriptionContext",null,""),wc.render.declareContext("RecurringOrderDisplay_Context",{beginIndex:"0"},""),wc.render.declareContext("SubscriptionDisplay_Context",{beginIndex:"0"},""),wc.render.declareContext("RecentRecurringOrderDisplay_Context",{beginIndex:"0",isMyAccountMainPage:"true"},""),wc.render.declareContext("RecentSubscriptionDisplay_Context",{beginIndex:"0",isMyAccountMainPage:"true"},""),wc.render.declareContext("RecurringOrderChildOrdersDisplay_Context",{beginIndex:"0",orderId:""},""),wc.render.declareContext("SubscriptionChildOrdersDisplay_Context",{beginIndex:"0",orderItemId:"",subscriptionName:""},""),wc.render.declareContext("QuickInfoContext",null,""),wc.render.declareContext("DiscountDetailsContext",null,""),wc.render.declareContext("QuickInfoDiscountDetailsContext",null,""),wc.render.declareContext("DoubleContentAreaESpot_Context",{emsName:""},""),wc.render.declareContext("ScrollableESpot_Context",{emsName:""},""),wc.render.declareContext("TopCategoriesESpot_Context",{emsName:""},""),wc.render.declareContext("CategoryFeaturedProductsESpot_Context",{emsName:""},""),wc.render.declareContext("HomeHeroESpot_Context",{emsName:""},""),wc.render.declareContext("HomeLeftESpot_Context",{emsName:""},""),wc.render.declareContext("HomeRightTopESpot_Context",{emsName:""},""),wc.render.declareContext("HomeRightBottomESpot_Context",{emsName:""},""),wc.render.declareContext("TallDoubleContentAreaESpot_Context",{emsName:""},""),wc.render.declareContext("TopCategoryHeroESpot_Context",{emsName:""},""),wc.render.declareContext("TopCategoryTallDoubleESpot_Context",{emsName:""},""),wc.render.declareContext("AttachmentPagination_Context",{beginIndex:"0"},"")
dojo.require("wc.render.common");CommonControllersDeclarationJS={langId:"-1",storeId:"",catalogId:"",ajaxCheckOut:true,setCommonParameters:function(langId,storeId,catalogId){this.langId=langId;this.storeId=storeId;this.catalogId=catalogId;},setControllerURL:function(controllerId,url){wc.render.getRefreshControllerById(controllerId).url=url;}}
wc.render.declareRefreshController({id:"CategoryDisplay_Controller",renderContext:wc.render.getContextById("CategoryDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;categoryDisplayJS.contextChanged=true;widget.refresh(renderContext.properties);},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(categoryDisplayJS.contextChanged&&(!categoryDisplayJS.isHistory)){var identifier="&identifier="+(new Date()).getTime();var historyObject=new categoryDisplayJS.HistoryTracker('CategoryDisplay_Widget',controller.url+identifier);dojo.back.addToHistory(historyObject);categoryDisplayJS.contextChanged=false;categoryDisplayJS.isHistory=false;}
cursor_clear();try{if(typeof(ceadojo)!="undefined"){ceadojo.publish("/wc/collaboration/CategoryDisplayRefreshed",[]);}}catch(err){console.log(err);}}}),wc.render.declareRefreshController({id:"SubCategoryDisplay_Controller",renderContext:wc.render.getContextById("SubCategoryDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;categoryDisplayJS.contextChanged=true;widget.refresh(renderContext.properties);},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(categoryDisplayJS.contextChanged&&(!categoryDisplayJS.isHistory)){var identifier="&identifier="+(new Date()).getTime();var historyObject=new categoryDisplayJS.HistoryTracker('SubCategoryDisplay_Widget',controller.url+identifier);dojo.back.addToHistory(historyObject);categoryDisplayJS.contextChanged=false;categoryDisplayJS.isHistory=false;}
cursor_clear();}}),wc.render.declareRefreshController({id:"ShopCartDisplayController",renderContext:wc.render.getContextById("ShopCartPaginationDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in order_updated){widget.refresh(renderContext.properties);submitRequest();cursor_wait();}},postRefreshHandler:function(widget){resetRequest();var controller=this;var renderContext=this.renderContext;if(typeof(savedOrdersJS)!=null&&typeof(savedOrdersJS)!='undefined')
{savedOrdersJS.isCurrentOrderPage(true);}
var controller=this;if(document.getElementById("discountDetailsSection")!=null){document.getElementById("discountDetailsSection").style.display="block";}
if(document.getElementById("appliedPromotionCodes")!=null){document.getElementById("appliedPromotionCodes").style.display="block";}
if(!CheckoutHelperJS.isAjaxCheckOut()){CheckoutHelperJS.setFieldDirtyFlag(false);CheckoutHelperJS.initDojoEventListenerShoppingCartPage();}
var orderId=renderContext.properties["orderId"];if(document.getElementById("currentOrderId")){orderId=document.getElementById("currentOrderId").value;}
ShipmodeSelectionExtJS.displaySavedShipmentTypeForOrder(orderId);if(document.getElementById("OrderFirstItemId"))
{ShipmodeSelectionExtJS.orderItemId=document.getElementById("OrderFirstItemId").value;}
dojo.query('div[id^="shoppingListScript_"]').forEach(function(node,index,nodelist){dojo.eval(node.innerHTML);});cursor_clear();}}),wc.render.declareRefreshController({id:"ShopCartPaginationDisplayController",renderContext:wc.render.getContextById("ShopCartPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;widget.refresh(renderContext.properties);},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();if(!CheckoutHelperJS.isAjaxCheckOut()){CheckoutHelperJS.setFieldDirtyFlag(false);CheckoutHelperJS.initDojoEventListenerShoppingCartPage();}
var orderId=renderContext.properties["orderId"];if(document.getElementById("currentOrderId")){orderId=document.getElementById("currentOrderId").value;}
ShipmodeSelectionExtJS.displaySavedShipmentTypeForOrder(orderId);}}),wc.render.declareRefreshController({id:"PendingOrderPaginationDisplayController",renderContext:wc.render.getContextById("PendingOrderPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"OrderItemPaginationDisplayController",renderContext:wc.render.getContextById("OrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"SSFSOrderItemPaginationDisplayController",renderContext:wc.render.getContextById("OrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;var orderStr=document.getElementById("jsonOrderStr").innerHTML;var beginIndex=this.renderContext.properties['beginIndex'];var pageSize=this.renderContext.properties['pageSize'];sterlingIntegrationJS.populateOrderLineInfoForSingleShipment(orderStr,beginIndex,pageSize);cursor_clear();}}),wc.render.declareRefreshController({id:"MSOrderItemPaginationDisplayController",renderContext:wc.render.getContextById("MSOrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"SSFSMSOrderItemPaginationDisplayController",renderContext:wc.render.getContextById("MSOrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;var orderStr=document.getElementById("jsonOrderStr").innerHTML;var beginIndex=this.renderContext.properties['beginIndex'];var pageSize=this.renderContext.properties['pageSize'];sterlingIntegrationJS.populateOrderLineInfoForMultipleShipment(orderStr,beginIndex,pageSize);cursor_clear();}}),wc.render.declareRefreshController({id:"CouponDisplay_Controller",renderContext:wc.render.getContextById("CouponDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=='AjaxCouponsAddRemove'||message.actionId=='AjaxWalletItemProcessServiceDelete'){widget.refresh(renderContext.properties);}}}),wc.render.declareRefreshController({id:"PromotionFreeGifts_Controller",renderContext:wc.render.getContextById("PromotionFreeGifts_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;widget.refresh(renderContext.properties);},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();PromotionChoiceOfFreeGiftsJS.showFreeGiftsDialog();}}),wc.render.declareRefreshController({id:"ListOrdersDisplay_Controller",renderContext:wc.render.getContextById("ListOrdersDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in listorders_changed){if((message.actionId=='AjaxOrderCreate'||message.actionId=='AjaxSingleOrderCalculate')&&this.renderContext.properties["startNumber"]!=0)
{wc.render.updateContext("ListOrdersDisplay_Context",{'startNumber':0});}
else
{widget.refresh(renderContext.properties);}}},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["startNumber"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(savedOrdersJS.updateCurrentOrder)
{savedOrdersJS.initializeCurrentOrder();savedOrdersJS.updateCurrentOrder=false;}
savedOrdersJS.updateToolbar();savedOrdersJS.checkAllIfNeeded();}}),wc.render.declareRefreshController({id:"PendingOrderDisplayController",renderContext:wc.render.getContextById("PendingOrderPaginationDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in order_updated){this.currentDesc=document.getElementById('OrderDescription_input').value;widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;cursor_clear();if(this.currentDesc!=document.getElementById('OldOrderDescription').value)
{var inputElement=document.getElementById('OrderDescription_input');if(inputElement!=null&&inputElement!='undefined')
{inputElement.value=this.currentDesc;dojo.removeClass(inputElement,'savedOrderDetailsInputBorder');dojo.addClass(inputElement,'savedOrderDetailsInputBorderWarning');}}}}),wc.render.declareRefreshController({id:"BrowsingHistoryController",renderContext:wc.render.getContextById("BrowsingHistoryContext"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["status"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){if(!document.getElementById('WC_ScrollingProductsESpot_EmptyImgContainer_BrowsingHistory')){document.getElementById('WC_LeftSidebarDisplay_div_5').style.display='block';}}}),wc.render.declareRefreshController({id:"BrowsingHistoryDisplay_Controller",renderContext:wc.render.getContextById("BrowsingHistoryDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["currentPage"])||controller.testForChangedRC(["pageView"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"CategorySubscriptionController",renderContext:wc.render.getContextById("CategorySubscriptionContext"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCategorySubscribe"){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();if(dojo.byId("CategorySubscriptionImage")==null){dojo.animateProperty({node:dojo.byId("CategorySubscriptionLink"),duration:1500,properties:{backgroundColor:{start:"yellow",end:dojo.style("CategorySubscriptionLink","backgroundColor")}}}).play();}}}),wc.render.declareRefreshController({id:"RecurringOrderDisplayController",renderContext:wc.render.getContextById("RecurringOrderDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("RecurringOrderDisplayController").url;widget.refresh(renderContext.properties);}},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"SubscriptionDisplayController",renderContext:wc.render.getContextById("SubscriptionDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("SubscriptionDisplayController").url;widget.refresh(renderContext.properties);}},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"RecentRecurringOrderDisplayController",renderContext:wc.render.getContextById("RecentRecurringOrderDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("RecurringOrderDisplayController").url;widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"RecentSubscriptionDisplayController",renderContext:wc.render.getContextById("RecentSubscriptionDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("SubscriptionDisplayController").url;widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"RecurringOrderChildOrdersDisplayController",renderContext:wc.render.getContextById("RecurringOrderChildOrdersDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"SubscriptionChildOrdersDisplayController",renderContext:wc.render.getContextById("SubscriptionChildOrdersDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"QuickInfoDetailsController",renderContext:wc.render.getContextById("QuickInfoContext"),url:"",formId:"",quickInfoEvenSubscribed:false,renderContextChangedHandler:function(message,widget){widget.refresh(this.renderContext.properties);},postRefreshHandler:function(widget){if(dojo.byId("QuickInfostoreParams")){var storeParams=dojo.byId("QuickInfostoreParams").value;if(dojo.byId("catEntryParamsForJS")){var catEntryParams=dojo.byId("catEntryParamsForJS").value;}
var shoppingListNames=dojo.byId("QuickInfoshoppingListNames").value;shoppingListJSQuickInfo=new ShoppingListJS(dojo.fromJson(storeParams),dojo.fromJson(catEntryParams),dojo.fromJson(shoppingListNames),"shoppingListJSQuickInfo");if(!this.quickInfoEvenSubscribed){this.quickInfoEvenSubscribed=true;dojo.topic.subscribe("DefiningAttributes_Resolved",function(catEntryId,productId){shoppingListJSQuickInfo.setItemId(catEntryId,productId);});dojo.topic.subscribe("QuickInfo_attributesChanged",function(catEntryAttributes){shoppingListJSQuickInfo.setCatEntryAttributes(catEntryAttributes);});dojo.topic.subscribe("Quantity_Changed",function(catEntryQuantityObject){shoppingListJSQuickInfo.setCatEntryQuantity(catEntryQuantityObject);});dojo.topic.subscribe("ShoppingList_Changed",function(serviceResponse){shoppingListJSQuickInfo.updateShoppingListAndAddItem(serviceResponse);});dojo.topic.subscribe("ShoppingListItem_Added",function(){shoppingListJSQuickInfo.deleteItemFromCart();});dojo.connect(dojo.byId("QuickInfoaddToShoppingListDropdown"),"onmouseover",function(){shoppingListJSQuickInfo.mouseOnArrow=true;});dojo.connect(dojo.byId("QuickInfoShoppingList_0"),"onmouseover",function(){shoppingListJSQuickInfo.exceptionFlag=true;document.getElementById('QuickInfoShoppingListLink_0').focus();});}
var catEntryId=dojo.fromJson(catEntryParams).id;if(null!=catEntryId&&''!=catEntryId){wc.render.updateContext('QuickInfoDiscountDetailsContext',{productId:dojo.fromJson(catEntryParams).id});}}
if(dojo.byId("catEntryParamsForJS")){QuickInfoJS.catEntryParams=dojo.fromJson(dojo.byId('catEntryParamsForJS').value);}
var quickInfoPopup=dijit.byId("quickInfoPopup");if(quickInfoPopup!=null){quickInfoPopup.closeButtonNode.style.display='none';closeAllDialogs();if(QuickInfoJS.itemId==''){QuickInfoJS.setCatEntryQuantity(1);QuickInfoJS.selectDefaultSwatch();}else{QuickInfoJS.selectCurrentAttributes();}
quickInfoPopup.show();if(ios||android){quickInfoPopup._relativePosition=new Object();}
if(typeof TealeafWCJS!="undefined"){TealeafWCJS.rebind("quickInfoPopup");}}else{console.debug("quickInfoPopup does not exist");}
cursor_clear();}}),wc.render.declareRefreshController({id:"DiscountDetailsController",renderContext:wc.render.getContextById("DiscountDetailsContext"),url:"DiscountDetailsView",formId:"",renderContextChangedHandler:function(message,widget){widget.refresh(this.renderContext.properties);},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"QuickInfoDiscountDetailsController",renderContext:wc.render.getContextById("QuickInfoDiscountDetailsContext"),url:"DiscountDetailsView",formId:"",renderContextChangedHandler:function(message,widget){widget.refresh(this.renderContext.properties);},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"DoubleContentAreaESpot_Controller",renderContext:wc.render.getContextById("DoubleContentAreaESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"ScrollableESpot_Controller",renderContext:wc.render.getContextById("ScrollableESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"TopCategoriesESpot_Controller",renderContext:wc.render.getContextById("TopCategoriesESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"CategoryFeaturedProductsESpot_Controller",renderContext:wc.render.getContextById("CategoryFeaturedProductsESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"HomeHeroESpot_Controller",renderContext:wc.render.getContextById("HomeHeroESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"HomeLeftESpot_Controller",renderContext:wc.render.getContextById("HomeLeftESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"HomeRightTopESpot_Controller",renderContext:wc.render.getContextById("HomeRightTopESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"HomeRightBottomESpot_Controller",renderContext:wc.render.getContextById("HomeRightBottomESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"TallDoubleContentAreaESpot_Controller",renderContext:wc.render.getContextById("TallDoubleContentAreaESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"TopCategoryHeroESpot_Controller",renderContext:wc.render.getContextById("TopCategoryHeroESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"TopCategoryTallDoubleESpot_Controller",renderContext:wc.render.getContextById("TopCategoryTallDoubleESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"AttachmentPagination_Controller",renderContext:wc.render.getContextById("AttachmentPagination_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["beginIndex"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){var pagesList=document.getElementById("pages_list_id");if(pagesList!=null&&!isAndroid()&&!isIOS()){dojo.addClass(pagesList,"desktop");}
cursor_clear();}})
var toggleCollapsible=function(collapsible){var content=collapsible.querySelector(".content");var expanded=collapsible.getAttribute("aria-expanded");var mainESpotHome=document.getElementById("mainESpotHome");(content.id.match(/homeESpotDetails/))?((mainESpotHome.className=="closed")?mainESpotHome.className="expand":mainESpotHome.className="closed"):0;if(expanded=="true"){content.style.maxHeight=content.scrollHeight+"px";window.setTimeout(function(){collapsible.setAttribute("aria-expanded","false");content.style.maxHeight=null;content.style.transition="max-height .2s";},0);window.setTimeout(function(){content.style.transition=null;},200);}
else if(expanded=="false"){collapsible.setAttribute("aria-expanded","true");content.style.maxHeight=content.scrollHeight+"px";content.style.transition="max-height .2s";window.setTimeout(function(){content.style.maxHeight=null;content.style.transition=null;},200);}};var updateGrid=function(grid){var width=grid.clientWidth;var minColWidth=grid.getAttribute("data-min-col-width");var minColCount=grid.getAttribute("data-min-col-count");var colCount=Math.floor(width/minColWidth);if(colCount<minColCount){colCount=minColCount;}
var colWidth=Math.floor(100/colCount)+"%";var cols=grid.querySelectorAll(".col");for(var i=0;i<cols.length;i++){cols[i].style.width=colWidth;}};require(["dojo/on","dojo/query","dojo/topic","dojo/dom-attr","dojo/NodeList-traverse","dojo/domReady!"],function(on,query,topic){var updateCollapsibles=function(mediaQuery){var expanded=mediaQuery?!mediaQuery.matches:document.documentElement.clientWidth>583;query(".collapsible").attr("aria-expanded",expanded.toString());};if(window.matchMedia){var mediaQuery=window.matchMedia("(max-width: 600px)");updateCollapsibles(mediaQuery);mediaQuery.addListener(updateCollapsibles);}
else{updateCollapsibles();on(window,"resize",function(event){updateCollapsibles();});}
on(document,".collapsible .toggle:click",function(event){toggleCollapsible(query(event.target).parents(".collapsible")[0]);event.preventDefault();});on(document,".collapsible .toggle:keydown",function(event){if(event.keyCode==13||event.keyCode==32){toggleCollapsible(query(event.target).parents(".collapsible")[0]);event.preventDefault();}});query(".grid").forEach(updateGrid);on(window,"resize",function(event){query(".grid").forEach(updateGrid);});});