<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Understanding the React Component Lifecycle | </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="The three main events that compose the lifecycle of a React component are:Mount: when the component is being created and attached to the DOMUnmount: when the component is being removed from the DOMUpd">
<meta property="og:type" content="article">
<meta property="og:title" content="Understanding the React Component Lifecycle">
<meta property="og:url" content="http://localhost:4000/2017/08/05/ReactComponentLifecycle/index.html">
<meta property="og:site_name">
<meta property="og:description" content="The three main events that compose the lifecycle of a React component are:Mount: when the component is being created and attached to the DOMUnmount: when the component is being removed from the DOMUpd">
<meta property="og:image" content="http://localhost:4000/blog/2017/08/05/ReactComponentLifecycle/react-component-lifecycle.png">
<meta property="og:updated_time" content="2017-08-28T20:56:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Understanding the React Component Lifecycle">
<meta name="twitter:description" content="The three main events that compose the lifecycle of a React component are:Mount: when the component is being created and attached to the DOMUnmount: when the component is being removed from the DOMUpd">
<meta name="twitter:image" content="http://localhost:4000/blog/2017/08/05/ReactComponentLifecycle/react-component-lifecycle.png">
  
    <link rel="alternate" href="/atom.xml" title="" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo"></a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
          <a class="main-nav-link" href="http://www.giulioambrogi.com">Giulio</a>
        
          <a class="main-nav-link" href="/blog/about">About</a>
        
      </nav>
      <!--<nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>-->
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://localhost:4000"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-ReactComponentLifecycle" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2017/08/05/ReactComponentLifecycle/" class="article-date">
  <time datetime="2017-08-05T19:17:30.000Z" itemprop="datePublished">2017-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Understanding the React Component Lifecycle
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>The three main events that compose the lifecycle of a React component are:<br><strong>Mount</strong>: when the component is being created and attached to the DOM<br><strong>Unmount</strong>: when the component is being removed from the DOM<br><strong>Update</strong>: when the component is being updated</p>
<p>For each of those events React provides a set of functions that <a id="more"></a>allows us to inject our code at the different stages of the lifecycle.</p>
<img src="/blog/2017/08/05/ReactComponentLifecycle/react-component-lifecycle.png" alt="Lifecycle hooks" title="Lifecycle hooks">
<h2 id="Mount"><a href="#Mount" class="headerlink" title="Mount"></a>Mount</h2><p>For the Mount event, we can use 4 functions:</p>
<ul>
<li><code>constructor()</code> It is called before the component is mounted and before the render() method. That’s where you can initialise the state of the react component;</li>
<li><code>componentWillMount()</code>: It’s called right before the render() method and it may look the same as the constructor, but keep in mind that it is risky to dispatch actions from the constructor because it may result in mutating the state while rendering;</li>
<li><code>render()</code> Render is the function that actually renders the component. The render function should be pure: it should just return a DOM element and should not perform any operation on the state or the properties of the component;</li>
<li><code>componentDidMount()</code> It is called after the component is mounted. For this reason, componentWillMount is indicated in case you need to perform operations (e.g. async calls) before rendering the component.<br>Use case: this is the right place where you perform an AJAX request.</li>
</ul>
<h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><p>For Update event, React provides the following hooks:</p>
<ul>
<li><p><code>componentWillReceiveProps(newProps)</code>: is invoked right before the mounted component receives one or more new properties. This method is not called when the component mounts.<br>shouldComponentUpdate(oldProps, newProps): called right after the components receives the newProperties and used to tell React whether to re-render the component or not.<br>Use case: the default behaviour is to re-render every time the state changes, and in the vast majority of cases you should rely on the default behaviour.</p>
</li>
<li><p><code>componentWillUpdate(newProps, newState)</code>: is invoked right before the render method when new props or state are being received.<br>Use case: it’s a good place where you can perform async operation before the components gets re-rendered.</p>
</li>
<li><code>componentDidUpdate()</code>: is invoked after the component has been re-rendered. As well as componentWillUpdate this is the right place to perform async operations.<br>render(): the render method, see above.</li>
</ul>
<h2 id="Unmount"><a href="#Unmount" class="headerlink" title="Unmount"></a>Unmount</h2><p>For the Unmount event, React’s API provides only one function:</p>
<ul>
<li><code>componentWillUnmount()</code>: is called immediately before the component is being unmounted.<br>Use case:  perform cleanup operations.</li>
</ul>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>Now let’s see an example using some of the functions explained above:<br>1 - in the <code>constructor</code> we initialize <code>banana</code>, the only property handled by this component;<br>2 - then the component gets mounted and <code>render</code> method fires. At this stage <code>banana</code> is still an empty array;<br>3 - then on <code>componentDidMount</code> the component performs an API call to get the bananas and updates the state<br>4 - finally the component gets re-rendered</p>
<p>Why performing the API call in <code>componentDidMount</code> rather than <code>componentWillMount</code>?</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExampleComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">constructor</span>(props) &#123;</div><div class="line">        <span class="keyword">super</span>(props);</div><div class="line">        <span class="keyword">this</span>.state = &#123;</div><div class="line">            bananas: []</div><div class="line">        &#125;;</div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    componentDidMount()&#123;</div><div class="line"></div><div class="line">        <span class="comment">//...</span></div><div class="line">        <span class="keyword">let</span> bananas = api.getSomeBananas();</div><div class="line">        <span class="keyword">this</span>.setState(&#123;<span class="attr">bananas</span>: bananas&#125;)</div><div class="line">        <span class="comment">//...</span></div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    render() &#123;</div><div class="line">        <span class="keyword">return</span> &lt;div&gt;Hello, I've got  &#123;this.state.bananas.length&#125; bananas!&lt;/div&gt;;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="References"><a href="#References" class="headerlink" title="References:"></a>References:</h4><ul>
<li><a href="https://facebook.github.io/react/docs/react-component.html" target="_blank" rel="external">https://facebook.github.io/react/docs/react-component.html</a></li>
<li><a href="https://github.com/reactjs/react-redux/issues/129" target="_blank" rel="external">https://github.com/reactjs/react-redux/issues/129</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://localhost:4000/2017/08/05/ReactComponentLifecycle/" data-id="cj6v8jvtm0000ava4pn70ifnp" class="article-share-link">Share</a>
      
        <a href="http://localhost:4000/2017/08/05/ReactComponentLifecycle/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2017/08/27/bind-vs-call-vs-apply/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Bind vs Call vs Apply in JavaScript
        
      </div>
    </a>
  
  
    <a href="/blog/2017/07/01/what-is-this-javascript/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">What Is This in JavaScript</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/06/">June 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2017/08/27/bind-vs-call-vs-apply/">Bind vs Call vs Apply in JavaScript</a>
          </li>
        
          <li>
            <a href="/blog/2017/08/05/ReactComponentLifecycle/">Understanding the React Component Lifecycle</a>
          </li>
        
          <li>
            <a href="/blog/2017/07/01/what-is-this-javascript/">What Is This in JavaScript</a>
          </li>
        
          <li>
            <a href="/blog/2017/06/27/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
    <a href="http://www.giulioambrogi.com" class="mobile-nav-link">Giulio</a>
  
    <a href="/blog/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'giulioambrogi';
  
  var disqus_url = 'http://localhost:4000/2017/08/05/ReactComponentLifecycle/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>

  </div>
</body>
</html>